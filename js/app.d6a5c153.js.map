{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/App.vue?b068","webpack:///./src/components/AreaChart.vue?78cc","webpack:///src/components/AreaChart.vue","webpack:///./src/components/AreaChart.vue?3b44","webpack:///./src/components/AreaChart.vue?6ee1","webpack:///./src/components/Histogram.vue?a5a2","webpack:///src/components/Histogram.vue","webpack:///./src/components/Histogram.vue?11b6","webpack:///./src/components/Histogram.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/Histogram.vue?013f","webpack:///./src/components/AreaChart.vue?c0a6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_48a52724_render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","_m","staticClass","_b","movies","filtered","_l","ref","label","format","updateFilters","_s","staticRenderFns","AreaChartvue_type_template_id_62e1affa_render","width","height","tag","css","on","enter","leave","path","fill","stroke","mouseenter","hovered","mouseleave","transform","y0","margin","style","top","y","left","title","formatDate","date","score","formatBox","boxOffice","_e","AreaChartvue_type_template_id_62e1affa_staticRenderFns","right","bottom","AreaChartvue_type_script_lang_js_","props","arcs","medianBox","created","xScale","d3","range","yScale","colorScale","areaGen","curve","xAxis","scale","tickFormat","yAxis","tickSizeOuter","concat","parseInt","watch","calculateScales","$refs","select","remove","calculateData","methods","_this","colorDomain","domain","nice","_extent","_extent2","slicedToArray","minDate","maxDate","offset","yExtent","_this2","lodash","sortBy","Math","abs","map","x","el","done","gsap","fromTo","scaleY","svgOrigin","onComplete","box","components_AreaChartvue_type_script_lang_js_","component","componentNormalizer","options","__file","AreaChart","Histogramvue_type_template_id_77429380_scoped_true_render","axis","tick","x1","scaleX","x2","y2","text-anchor","Histogramvue_type_template_id_77429380_scoped_true_staticRenderFns","Histogramvue_type_script_lang_js_width","Histogramvue_type_script_lang_js_height","Histogramvue_type_script_lang_js_margin","Histogramvue_type_script_lang_js_","type","Array","default","String","Function","a","computed","domainX","ticks","maxY","bins","histogram","domainZ","scaleZ","thresholds","bars","_this3","x0","handler","newBars","oldBars","console","log","cycle","brush","extent","brushEnd","mounted","bounds","event","selection","_event$selection","invert","components_Histogramvue_type_script_lang_js_","Histogram_component","Histogram","startYear","Appvue_type_script_lang_js_","components","histograms","filters","fetch","then","resp","json","assign","Date","filter","year","params","src_Appvue_type_script_lang_js_","App_component","App","Vue","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_id_77429380_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Histogram_vue_vue_type_style_index_0_id_77429380_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AreaChart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AreaChart_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.d6a5c153.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-d3-example/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(\"The Seasonality of Box Office Hits\")]),_vm._m(0),_c('div',{staticClass:\"area-container\"},[_vm._m(1),_c('AreaChart',_vm._b({},'AreaChart',{movies: _vm.movies, filtered: _vm.filtered},false))],1),_vm._l((_vm.histograms),function(ref){\nvar id = ref.id;\nvar label = ref.label;\nvar format = ref.format;\nreturn _c('div',{key:id,staticClass:\"histograms\"},[_c('Histogram',_vm._b({},'Histogram',{movies: _vm.movies, filtered: _vm.filtered, id: id, format: format, updateFilters: _vm.updateFilters},false)),_c('div',[_c('strong',[_vm._v(_vm._s(label))])])],1)})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"description\"},[_vm._v(\"\\n    In the last decade, most block buster hits have happened around or during the summer and winter holidays.\\n    \"),_c('strong',[_vm._v(\"Brush\")]),_vm._v(\" the histograms to filter the movies by metascore and/or box office figures, and\\n    \"),_c('strong',[_vm._v(\"hover\")]),_vm._v(\" the movies to see more details.\\n  \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area-title\"},[_c('strong',[_vm._v(\"$ over/under median box office\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"areachart\"},[_c('svg',{attrs:{\"width\":_vm.width,\"height\":_vm.height}},[_c('transition-group',{attrs:{\"tag\":\"g\",\"css\":false},on:{\"enter\":_vm.enter,\"leave\":_vm.leave}},_vm._l((_vm.arcs),function(d){return _c('path',{key:d.id,staticClass:\"arc\",attrs:{\"d\":d.path,\"fill\":d.fill,\"stroke\":\"#fff\"},on:{\"mouseenter\":function () { return _vm.hovered = d; },\"mouseleave\":function () { return _vm.hovered = null; }}})})),_c('g',{ref:\"xAxis\",attrs:{\"transform\":(\"translate(0, \" + _vm.y0 + \")\")}}),_c('g',{ref:\"yAxis\",attrs:{\"transform\":(\"translate(\" + (_vm.margin.left) + \", 0)\")}})],1),(_vm.hovered)?_c('div',{staticClass:\"hovered\",style:({\n    top: ((_vm.hovered.y + 20) + \"px\"),\n    left: ((_vm.hovered.x) + \"px\"),\n    })},[_c('strong',[_vm._v(\"title\")]),_vm._v(\"\\n    \"+_vm._s(_vm.hovered.data.title)+\"\\n    \"),_c('br'),_c('strong',[_vm._v(\"date\")]),_vm._v(\"\\n    \"+_vm._s(_vm.formatDate(_vm.hovered.data.date))+\"\\n    \"),_c('br'),_c('strong',[_vm._v(\"metascore\")]),_vm._v(\"\\n    \"+_vm._s(_vm.hovered.data.score)+\"\\n    \"),_c('br'),_c('strong',[_vm._v(\"box office\")]),_vm._v(\"\\n    \"+_vm._s(_vm.formatBox(_vm.hovered.data.boxOffice))+\"\\n    \"),_c('br')]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"areachart\">\n    <svg :width=\"width\" :height=\"height\">\n      <transition-group tag=\"g\" :css=\"false\" @enter=\"enter\" @leave=\"leave\">\n        <path\n          v-for=\"d in arcs\"\n          class=\"arc\"\n          :key=\"d.id\"\n          :d=\"d.path\"\n          :fill=\"d.fill\"\n          stroke=\"#fff\"\n          @mouseenter=\"() => hovered = d\"\n          @mouseleave=\"() => hovered = null\"\n        ></path>\n      </transition-group>\n      <g ref=\"xAxis\" :transform=\"`translate(0, ${y0})`\"></g>\n      <g ref=\"yAxis\" :transform=\"`translate(${margin.left}, 0)`\"></g>\n    </svg>\n    <div\n      v-if=\"hovered\"\n      class=\"hovered\"\n      :style=\"{\n      top: `${hovered.y + 20}px`,\n      left: `${hovered.x}px`,\n      }\"\n    >\n      <strong>title</strong>\n      {{ hovered.data.title }}\n      <br>\n      <strong>date</strong>\n      {{ formatDate(hovered.data.date) }}\n      <br>\n      <strong>metascore</strong>\n      {{ hovered.data.score }}\n      <br>\n      <strong>box office</strong>\n      {{ formatBox(hovered.data.boxOffice) }}\n      <br>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { chain } from \"lodash\";\n\n  import {\n    area,\n    axisBottom,\n    axisLeft,\n    curveCatmullRom,\n    extent,\n    format,\n    interpolateViridis,\n    median,\n    scaleLinear,\n    scaleSequential,\n    scaleTime,\n    select,\n    timeFormat,\n    timeMonth\n  } from \"d3\";\n  import { TweenLite } from \"gsap\";\n\n  const width = 1000;\n  const height = 300;\n  const margin = { top: 0, right: 0, bottom: 20, left: 60 };\n\n  export default {\n    name: \"areachart\",\n    props: [\"movies\", \"filtered\"],\n    data() {\n      return {\n        width,\n        height,\n        margin,\n        arcs: [],\n        medianBox: 0,\n        y0: 0,\n        hovered: null\n      };\n    },\n    created() {\n      this.xScale = scaleTime().range([margin.left, width - margin.right]);\n      this.yScale = scaleLinear().range([height - margin.bottom, margin.top]);\n      this.colorScale = scaleSequential(interpolateViridis);\n\n      this.areaGen = area().curve(curveCatmullRom);\n\n      this.xAxis = axisBottom()\n        .scale(this.xScale)\n        .tickFormat(this.format);\n      this.yAxis = axisLeft()\n        .scale(this.yScale)\n        .tickSizeOuter(0)\n        .tickFormat(d => `${format(\"$\")(parseInt(d / 1000000))}M`);\n    },\n    watch: {\n      movies: function() {\n        this.calculateScales();\n        select(this.$refs.xAxis).call(this.xAxis);\n        select(this.$refs.yAxis)\n          .call(this.yAxis)\n          .select(\".domain\")\n          .remove();\n      },\n      filtered: function() {\n        this.calculateData();\n      }\n    },\n    methods: {\n      calculateScales: function() {\n        if (!this.movies.length) return;\n\n        // calculate median box office\n        this.medianBox = median(this.movies, d => d.boxOffice);\n\n        // colors\n        const colorDomain = extent(this.movies, d => d.score);\n        this.colorScale.domain(colorDomain).nice();\n\n        // x scale with dates\n        const [minDate, maxDate] = extent(this.movies, d => d.date);\n        this.xScale.domain([\n          timeMonth.offset(minDate, -2),\n          timeMonth.offset(maxDate, 2)\n        ]);\n\n        // y scale with boxOffice - medianBox\n        const yExtent = extent(this.movies, d => d.boxOffice - this.medianBox);\n        this.yScale.domain(yExtent);\n        this.y0 = this.yScale(0);\n\n        // update area generater\n        this.areaGen.y0(this.y0);\n      },\n      calculateData: function() {\n        if (!this.filtered.length) return;\n\n        // calculate arcs from the filtered movies\n        this.arcs = chain(this.filtered)\n          // put biggest arcs in the background\n          .sortBy(d => -Math.abs(d.boxOffice - this.medianBox))\n          .map(d => {\n            const x = this.xScale(d.date);\n            const y = this.yScale(d.boxOffice - this.medianBox);\n            // for each arc, just need d & fill\n            return {\n              id: d.id,\n              path: this.areaGen([\n                [this.xScale(timeMonth.offset(d.date, -2)), this.y0],\n                [x, y],\n                [this.xScale(timeMonth.offset(d.date, 2)), this.y0]\n              ]),\n              fill: this.colorScale(d.score),\n              data: d,\n              x,\n              y\n            };\n          })\n          .value();\n      },\n      enter: function(el, done) {\n        TweenLite.fromTo(\n          el,\n          0.25,\n          { scaleY: 0, svgOrigin: `0 ${this.y0}` },\n          { scaleY: 1, onComplete: done }\n        );\n      },\n      leave: function(el, done) {\n        TweenLite.fromTo(\n          el,\n          0.25,\n          { scaleY: 1 },\n          { scaleY: 0, svgOrigin: `0 ${this.y0}`, onComplete: done }\n        );\n      },\n      formatDate: function(date) {\n        return timeFormat(\"%b %d, %Y\")(date);\n      },\n      formatBox: function(box) {\n        return format(\"$,.0f\")(box);\n      }\n    }\n  };\n</script>\n\n<style>\n  .areachart {\n    position: relative;\n  }\n\n  .arc {\n    cursor: pointer;\n  }\n\n  .hovered {\n    position: absolute;\n    padding: 5px 10px;\n    background-color: #fff;\n    box-shadow: 0 0 5px #cfcfcf;\n    transform: translate(-50%);\n    pointer-events: none;\n    line-height: 1.6;\n    width: 240px;\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AreaChart.vue?vue&type=template&id=62e1affa&\"\nimport script from \"./AreaChart.vue?vue&type=script&lang=js&\"\nexport * from \"./AreaChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AreaChart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"AreaChart.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"histogram\",attrs:{\"width\":_vm.width,\"height\":_vm.height}},[_c('g',{staticClass:\"bars\"},_vm._l((_vm.bars),function(ref,i){\n      var x = ref.x;\n      var y = ref.y;\n      var width = ref.width;\n      var height = ref.height;\n      var fill = ref.fill;\nreturn _c('rect',_vm._b({key:i},'rect',{\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        fill: fill,\n        stroke: _vm.stroke\n      },false))})),_c('g',{staticClass:\"axis\",attrs:{\"transform\":(\"translate(0, \" + (_vm.height - _vm.margin.bottom) + \")\")}},[_c('g',{staticClass:\"domain\"},[_c('path',{attrs:{\"d\":_vm.axis,\"fill\":\"none\",\"stroke\":\"black\"}}),_vm._l((_vm.ticks),function(tick,i){return _c('line',{key:i,staticClass:\"tick\",attrs:{\"x1\":_vm.scaleX(tick),\"x2\":_vm.scaleX(tick),\"y2\":10,\"stroke\":\"black\"}})})],2),_c('g',{staticClass:\"ticks\",attrs:{\"transform\":\"translate(0, 20)\"}},[_vm._l((_vm.ticks),function(tick){return [_c('text',{key:tick,staticClass:\"label\",attrs:{\"x\":_vm.scaleX(tick),\"y\":\"0\",\"text-anchor\":\"middle\"}},[_vm._v(_vm._s(_vm.format(tick)))])]})],2)]),_c('g',{ref:\"brush\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <svg class=\"histogram\" :width=\"width\" :height=\"height\">\n    <g class=\"bars\">\n      <rect\n        v-for=\"({\n          x, y, width, height, fill,\n        }, i) in bars\"\n        :key=\"i\"\n        v-bind=\"{\n          x,\n          y,\n          width,\n          height,\n          fill,\n          stroke\n        }\"\n      ></rect>\n    </g>\n    <g class=\"axis\" :transform=\"`translate(0, ${height - margin.bottom})`\">\n      <g class=\"domain\">\n        <path :d=\"axis\" fill=\"none\" stroke=\"black\"></path>\n        <line\n          v-for=\"(tick, i) in ticks\"\n          :key=\"i\"\n          class=\"tick\"\n          :x1=\"scaleX(tick)\"\n          :x2=\"scaleX(tick)\"\n          :y2=\"10\"\n          stroke=\"black\"\n        ></line>\n      </g>\n      <g class=\"ticks\" transform=\"translate(0, 20)\">\n        <template v-for=\"tick in ticks\">\n          <text\n            :key=\"tick\"\n            class=\"label\"\n            :x=\"scaleX(tick)\"\n            y=\"0\"\n            text-anchor=\"middle\"\n          >{{ format(tick) }}</text>\n        </template>\n      </g>\n    </g>\n    <g ref=\"brush\"></g>\n  </svg>\n</template>\n\n<script>\n  import {\n    brushX,\n    extent,\n    histogram,\n    interpolateViridis,\n    max,\n    median,\n    scaleLinear,\n    scaleSequential,\n    select\n  } from \"d3\";\n  import { TweenMax } from \"gsap\";\n\n  const width = 500;\n  const height = 120;\n  const margin = { top: 20, right: 20, bottom: 20, left: 20 };\n\n  export default {\n    name: \"histogram\",\n    props: {\n      movies: {\n        type: Array,\n        default: () => []\n      },\n      filtered: {\n        type: Array,\n        default: () => []\n      },\n      id: {\n        type: String\n      },\n      format: {\n        type: Function,\n        default: a => a\n      },\n      updateFilters: {\n        type: Function,\n        default: () => {}\n      }\n    },\n    data() {\n      return {\n        width,\n        height,\n        margin\n      };\n    },\n    computed: {\n      domainX() {\n        return extent(this.movies, d => d[this.id]);\n      },\n      scaleX() {\n        return scaleLinear()\n          .range([this.margin.left, this.width - this.margin.right])\n          .domain(this.domainX)\n          .nice();\n      },\n      ticks() {\n        return this.scaleX.ticks();\n      },\n      axis() {\n        const range = this.scaleX.range();\n        return `M${range[0] + 0.5},6V0.5H${range[range.length - 1] + 0.5}V6`;\n      },\n      maxY() {\n        const bins = this.histogram(this.movies);\n        return max(bins, d => d.length);\n      },\n      scaleY() {\n        return scaleLinear()\n          .range([this.height - this.margin.bottom, this.margin.top])\n          .domain([0, this.maxY]);\n      },\n      domainZ() {\n        return extent(this.movies, d => d.score);\n      },\n      scaleZ() {\n        return scaleSequential(interpolateViridis)\n          .domain(this.domainZ)\n          .nice();\n      },\n      histogram() {\n        return histogram()\n          .domain(this.domainX)\n          .thresholds(this.scaleX.ticks(50))\n          .value(d => d[this.id]);\n      },\n      bars() {\n        if (!this.filtered.length) return;\n\n        // calculate rect bar for each bin\n        return this.histogram(this.filtered).map((d, i) => {\n          const { x0, x1, length } = d;\n          const x = this.scaleX(x0);\n          const y = this.scaleY(length);\n          const fill = this.scaleZ(median(d, d => d.score) || 0);\n\n          return {\n            id: i,\n            x,\n            y,\n            width: this.scaleX(x1) - x,\n            height: height - margin.bottom - y,\n            fill\n          };\n        });\n      }\n    },\n    watch: {\n      bars: {\n        handler(newBars, oldBars) {\n          // eslint-disable-next-line\n          console.log(newBars);\n          return new TweenMax(\n            this.bars,\n            25,\n            {\n              cycle: {\n                height: i => (oldBars ? oldBars[i].height : 0)\n              }\n            },\n            {\n              cycle: {\n                height: i => newBars[i].height\n              }\n            }\n          );\n        }\n      }\n    },\n    created() {\n      this.brush = brushX()\n        .extent([\n          [margin.left, margin.top],\n          [width - margin.right, height - margin.bottom]\n        ])\n        .on(\"brush\", this.brushEnd)\n        .on(\"end\", this.brushEnd);\n    },\n    mounted() {\n      select(this.$refs.brush).call(this.brush);\n    },\n    methods: {\n      brushEnd: function() {\n        let bounds = null;\n        if (event.selection) {\n          const [x1, x2] = event.selection;\n          bounds = [this.scaleX.invert(x1), this.scaleX.invert(x2)];\n        }\n        this.updateFilters({ [this.id]: bounds });\n      }\n    }\n  };\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Histogram.vue?vue&type=template&id=77429380&scoped=true&\"\nimport script from \"./Histogram.vue?vue&type=script&lang=js&\"\nexport * from \"./Histogram.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Histogram.vue?vue&type=style&index=0&id=77429380&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77429380\",\n  null\n  \n)\n\ncomponent.options.__file = \"Histogram.vue\"\nexport default component.exports","<template>\n  <div id=\"app\">\n    <!-- HEADER -->\n    <h1>The Seasonality of Box Office Hits</h1>\n    <p class=\"description\">\n      In the last decade, most block buster hits have happened around or during the summer and winter holidays.\n      <strong>Brush</strong> the histograms to filter the movies by metascore and/or box office figures, and\n      <strong>hover</strong> the movies to see more details.\n    </p>\n    <!-- AREA CHART -->\n    <div class=\"area-container\">\n      <div class=\"area-title\">\n        <strong>$ over/under median box office</strong>\n      </div>\n      <AreaChart v-bind=\"{movies, filtered}\"/>\n    </div>\n    <!-- HISTOGRAM -->\n    <div class=\"histograms\" v-for=\"({id, label, format}) in histograms\" :key=\"id\">\n      <Histogram v-bind=\"{movies, filtered, id, format, updateFilters}\"/>\n      <div>\n        <strong>{{ label }}</strong>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { chain, every, filter } from \"lodash\";\n  import AreaChart from \"./components/AreaChart\";\n  import Histogram from \"./components/Histogram\";\n\n  const startYear = 2008;\n\n  export default {\n    name: \"app\",\n    components: {\n      Histogram,\n      AreaChart\n    },\n    data() {\n      return {\n        histograms: [\n          { id: \"score\", label: \"metascores\" },\n          {\n            id: \"boxOffice\",\n            label: \"box office figures\",\n            format: d => `$${parseInt(d / 1000000)}M`\n          }\n        ],\n        movies: [],\n        filters: {},\n        filtered: []\n      };\n    },\n    mounted() {\n      fetch(`./movies.json`)\n        .then(resp => resp.json())\n        .then(movies => {\n          this.movies = chain(movies)\n            .map((d, id) => Object.assign(d, { id, date: new Date(d.date) }))\n            .filter(d => d.boxOffice && d.year >= startYear)\n            .value();\n          this.filtered = this.movies;\n        });\n    },\n    computed: {\n      // filtered: function() {\n      //   return filter(this.movies, d => every(this.filters, (bounds, key) =>\n      //     !bounds || bounds[0] < d[key] && d[key] < bounds[1]))\n      // }\n    },\n    methods: {\n      updateFilters: function(params) {\n        this.filters = Object.assign(this.filters, params);\n        this.filtered = filter(this.movies, d =>\n          every(\n            this.filters,\n            (bounds, key) => !bounds || (bounds[0] < d[key] && d[key] < bounds[1])\n          )\n        );\n      }\n    }\n  };\n</script>\n\n<style>\n  #app {\n    width: 1000px;\n    margin: auto;\n    text-align: center;\n  }\n\n  .description {\n    width: 600px;\n    line-height: 2;\n    margin: 20px auto;\n  }\n\n  .area-container {\n    position: relative;\n  }\n\n  .area-title {\n    position: absolute;\n    left: 65px;\n  }\n\n  .histograms {\n    display: inline-block;\n  }\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=48a52724&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&id=77429380&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Histogram.vue?vue&type=style&index=0&id=77429380&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaChart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaChart.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}